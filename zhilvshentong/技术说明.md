# 智旅深瞳项目 - 技术说明

## MIME类型错误分析

### 错误信息
```
Failed to load module script: Expected a JavaScript-or-Wasm module script but the server responded with a MIME type of ''. Strict MIME type checking is enforced for module scripts per HTML spec.
```

### 错误原因

这个错误的主要原因是**直接在浏览器中打开了HTML文件**，而不是通过Vite开发服务器运行。具体来说：

1. **TypeScript文件需要编译**：项目使用了TypeScript（.tsx文件），这些文件需要经过编译才能转换为浏览器可识别的JavaScript文件。

2. **Vite开发服务器的作用**：Vite作为构建工具，负责：
   - 编译TypeScript文件为JavaScript
   - 设置正确的MIME类型头
   - 处理模块导入和依赖关系
   - 提供热更新和开发环境支持

3. **直接打开HTML的问题**：当您直接在浏览器中打开index.html文件时：
   - 浏览器尝试直接加载`/src/main.tsx`文件
   - 由于没有服务器处理这个请求，浏览器无法获取正确的MIME类型
   - 浏览器的严格MIME类型检查导致加载失败

### 解决方案

要解决这个问题，您需要按照以下步骤操作：

1. **安装Node.js**：
   - 访问[Node.js官网](https://nodejs.org/zh-cn/)下载并安装适合您系统的版本
   - 安装完成后，在终端中验证：`node --version` 和 `npm --version`

2. **安装项目依赖**：
   - 打开终端，进入项目根目录
   - 运行命令：`npm install`

3. **启动开发服务器**：
   - 运行命令：`npm run dev`
   - 这会自动启动Vite开发服务器并在浏览器中打开应用

4. **生产环境部署**：
   - 如果您需要部署到生产环境，先运行：`npm run build`
   - 然后将生成的`dist`目录部署到Web服务器

### 项目架构说明

#### 技术栈
- **前端框架**：React 18 + TypeScript
- **构建工具**：Vite 5
- **UI组件库**：Ant Design 5
- **路由管理**：React Router DOM 6
- **HTTP客户端**：Axios

#### 核心配置文件

1. **index.html**：应用入口HTML文件，包含根容器和脚本引用
2. **vite.config.ts**：Vite构建配置，包含插件、别名、服务器设置等
3. **package.json**：项目依赖和脚本配置
4. **tsconfig.json**：TypeScript配置（如果需要）

#### 项目结构
```
src/
├── components/       # 通用组件
├── pages/           # 页面组件
├── services/        # API服务和业务逻辑
├── App.tsx          # 应用主组件
├── main.tsx         # 应用入口
└── index.css        # 全局样式
```

### 开发注意事项

1. **不要直接打开HTML文件**：始终使用`npm run dev`启动开发服务器
2. **TypeScript类型检查**：运行`npm run lint`检查代码质量
3. **代码格式化**：使用VS Code的Prettier插件保持代码风格一致
4. **依赖管理**：定期更新依赖，运行`npm outdated`检查过时的包

### 常见问题排查

1. **端口被占用**：修改`vite.config.ts`中的`server.port`配置，或使用`npm run dev -- --port 3001`指定端口

2. **依赖安装失败**：
   - 清除npm缓存：`npm cache clean --force`
   - 删除`node_modules`和`package-lock.json`后重新安装
   - 检查网络连接

3. **编译错误**：
   - 检查TypeScript语法错误
   - 确保所有依赖都已正确安装
   - 查看终端中的详细错误信息

### 联系信息

如果您在项目运行过程中遇到其他问题，请参考项目文档或联系开发团队。

---

**智旅深瞳开发团队**
**日期**：2025-12-03